{
    "llm_providers": {
        "openai": {
            "api_key": null,
            "base_url": null,
            "enabled": false,
            "api_timeout_seconds": 120.0,
            "max_retries": 2,
            "default_test_model_id": "openai/gpt-3.5-turbo",
            "api_key_source": "not_set"
        },
        "google_gemini": {
            "api_key": null,
            "base_url": null,
            "enabled": true,
            "api_timeout_seconds": 300.0,
            "max_retries": 2,
            "default_test_model_id": "google_gemini/gemini-2.5-flash-preview-04-17",
            "api_key_source": "not_set"
        },
        "anthropic_claude": {
            "api_key": null,
            "base_url": null,
            "enabled": false,
            "api_timeout_seconds": 300.0,
            "max_retries": 2,
            "default_test_model_id": "anthropic_claude/claude-3.5-haiku-20241022",
            "api_key_source": "not_set"
        },
        "deepseek": {
            "api_key": null,
            "base_url": "https://api.deepseek.com/v1",
            "enabled": false,
            "api_timeout_seconds": 120.0,
            "max_retries": 2,
            "default_test_model_id": "deepseek/deepseek-chat",
            "api_key_source": "not_set"
        },
        "x_grok": {
            "api_key": null,
            "base_url": null,
            "enabled": true,
            "api_timeout_seconds": 180.0,
            "max_retries": 1,
            "default_jailbreak_prefix": null,
            "default_test_model_id": "x_grok/grok-3-mini",
            "api_key_source": "not_set"
        },
        "lm_studio_local": {
            "api_key": null,
            "base_url": "http://localhost:1234/v1",
            "enabled": false,
            "api_timeout_seconds": 600.0,
            "max_retries": 1,
            "default_test_model_id": null,
            "api_key_source": "not_set"
        }
    },
    "llm_settings": {
        "default_model_id": "google_gemini/gemini-2.5-flash-preview-04-17",
        "available_models": [
            {
                "user_given_id": "openai/gpt-3.5-turbo",
                "user_given_name": "GPT-3.5 Turbo (OpenAI)",
                "model_identifier_for_api": "gpt-3.5-turbo",
                "provider_tag": "openai",
                "api_key": null,
                "base_url": null,
                "max_context_tokens": 16385,
                "supports_system_prompt": true,
                "enabled": true,
                "notes": "快速, 经济。需启用OpenAI并配置API Key。",
                "api_key_is_from_env": false
            },
            {
                "user_given_id": "openai/gpt-4-turbo",
                "user_given_name": "GPT-4 Turbo (OpenAI)",
                "model_identifier_for_api": "gpt-4-turbo",
                "provider_tag": "openai",
                "api_key": null,
                "base_url": null,
                "max_context_tokens": 128000,
                "supports_system_prompt": true,
                "enabled": true,
                "notes": "强大, 较贵。需启用OpenAI并配置API Key。",
                "api_key_is_from_env": false
            },
            {
                "user_given_id": "openai/gpt-4o",
                "user_given_name": "GPT-4o (OpenAI)",
                "model_identifier_for_api": "gpt-4o",
                "provider_tag": "openai",
                "api_key": null,
                "base_url": null,
                "max_context_tokens": 128000,
                "supports_system_prompt": true,
                "enabled": false,
                "notes": "最新, 多模态能力强。需启用OpenAI并配置API Key。",
                "api_key_is_from_env": false
            },
            {
                "user_given_id": "google_gemini/gemini-2.5-pro-preview-05-06",
                "user_given_name": "Gemini 2.5 Pro (Google)",
                "model_identifier_for_api": "gemini-2.5-pro-preview-05-06",
                "provider_tag": "google_gemini",
                "api_key": null,
                "base_url": null,
                "max_context_tokens": 1048576,
                "supports_system_prompt": true,
                "enabled": true,
                "notes": "高性能, 超长上下文(推荐复杂任务)。需启用Google Gemini并配置API Key。",
                "api_key_is_from_env": false
            },
            {
                "user_given_id": "google_gemini/gemini-2.5-flash-preview-04-17",
                "user_given_name": "Gemini 2.5 Flash (Google)",
                "model_identifier_for_api": "gemini-2.5-flash-preview-04-17",
                "provider_tag": "google_gemini",
                "api_key": null,
                "base_url": null,
                "max_context_tokens": 1048576,
                "supports_system_prompt": true,
                "enabled": true,
                "notes": "快速响应, 经济高效, 长上下文。需启用Google Gemini并配置API Key。",
                "api_key_is_from_env": false
            },
            {
                "user_given_id": "anthropic_claude/claude-3-opus-20240229",
                "user_given_name": "Claude 3 Opus (Anthropic)",
                "model_identifier_for_api": "claude-3-opus-20240229",
                "provider_tag": "anthropic_claude",
                "api_key": null,
                "base_url": null,
                "max_context_tokens": 200000,
                "supports_system_prompt": true,
                "enabled": false,
                "notes": "非常强大。需启用Anthropic Claude并配置API Key。",
                "api_key_is_from_env": false
            },
            {
                "user_given_id": "anthropic_claude/claude-3.5-sonnet-20240620",
                "user_given_name": "Claude 3.5 Sonnet (Anthropic)",
                "model_identifier_for_api": "claude-3.5-sonnet-20240620",
                "provider_tag": "anthropic_claude",
                "api_key": null,
                "base_url": null,
                "max_context_tokens": 200000,
                "supports_system_prompt": true,
                "enabled": true,
                "notes": "平衡，性价比高。需启用Anthropic Claude并配置API Key。",
                "api_key_is_from_env": false
            },
            {
                "user_given_id": "anthropic_claude/claude-3-haiku-20240307",
                "user_given_name": "Claude 3 Haiku (Anthropic)",
                "model_identifier_for_api": "claude-3-haiku-20240307",
                "provider_tag": "anthropic_claude",
                "api_key": null,
                "base_url": null,
                "max_context_tokens": 200000,
                "supports_system_prompt": true,
                "enabled": true,
                "notes": "快速，经济。需启用Anthropic Claude并配置API Key。",
                "api_key_is_from_env": false
            },
            {
                "user_given_id": "deepseek/deepseek-chat",
                "user_given_name": "DeepSeek-Chat (DeepSeek)",
                "model_identifier_for_api": "deepseek-chat",
                "provider_tag": "deepseek",
                "api_key": null,
                "base_url": "https://api.deepseek.com/v1",
                "max_context_tokens": 130000,
                "supports_system_prompt": true,
                "enabled": false,
                "notes": "国产优秀模型。需启用DeepSeek并配置API Key及Base URL。",
                "api_key_is_from_env": false
            },
            {
                "user_given_id": "x_grok/grok-3-mini",
                "user_given_name": "Grok 3 Mini (xAI)",
                "model_identifier_for_api": "grok-3-mini",
                "provider_tag": "x_grok",
                "api_key": null,
                "base_url": null,
                "max_context_tokens": 131072,
                "supports_system_prompt": true,
                "enabled": true,
                "notes": "Grok的快速响应模型 (最新)。需启用Grok并配置API Key。",
                "api_key_is_from_env": false
            },
            {
                "user_given_id": "x_grok/grok-3",
                "user_given_name": "Grok 3 (xAI)",
                "model_identifier_for_api": "grok-3",
                "provider_tag": "x_grok",
                "api_key": null,
                "base_url": null,
                "max_context_tokens": 131072,
                "supports_system_prompt": true,
                "enabled": false,
                "notes": "Grok的高性能模型 (最新)。需启用Grok并配置API Key。",
                "api_key_is_from_env": false
            },
            {
                "user_given_id": "lm_studio_local/bge-large-zh-v1.5-embedding",
                "user_given_name": "本地Embedding (LM Studio - bge-large-zh)",
                "model_identifier_for_api": "BAAI/bge-large-zh-v1.5",
                "provider_tag": "local_embedding",
                "api_key": "lm-studio",
                "base_url": "http://localhost:1234/v1",
                "max_context_tokens": 512,
                "supports_system_prompt": false,
                "enabled": true,
                "notes": "用于文本向量化和相似性搜索。需在LM Studio中加载并提供服务。确保API Model ID正确填写为模型在HuggingFace上的名称或本地路径。",
                "api_key_is_from_env": false
            },
             {
                "user_given_id": "lm_studio_local/qwen2-7b-instruct-gguf",
                "user_given_name": "通义千问Qwen2-7B (LM Studio)",
                "model_identifier_for_api": "Qwen/Qwen2-7B-Instruct-GGUF/qwen2-7b-instruct-q5_k_m.gguf",
                "provider_tag": "lm_studio_local",
                "api_key": "lm-studio",
                "base_url": "http://localhost:1234/v1",
                "max_context_tokens": 32768,
                "supports_system_prompt": true,
                "enabled": false,
                "notes": "本地运行的Qwen2-7B模型，需在LM Studio中加载。API模型标识符需填写模型文件名或LM Studio中加载时显示的ID。",
                "api_key_is_from_env": false
            }
        ],
        "max_prompt_tokens": 800000,
        "default_temperature": 0.7,
        "default_max_completion_tokens": 150000,
        "token_buffer_overhead": 200,
        "model_aliases": {
            "default_fast": "google_gemini/gemini-2.5-flash-preview-04-17",
            "default_powerful": "google_gemini/gemini-2.5-pro-preview-05-06",
            "local_embedding": "lm_studio_local/bge-large-zh-v1.5-embedding",
            "local_chat_default": "lm_studio_local/qwen2-7b-instruct-gguf"
        },
        "task_model_preference": {
            "DEFAULT_STANDARD_LLM_TASK": "default_fast",
            "DEFAULT_COMPLEX_LLM_TASK": "default_powerful",
            "SUMMARIZE": "default_fast",
            "EXTRACT_ROLES": "default_fast",
            "PLANNING_parse_goal": "default_powerful",
            "PLANNING_generate_draft": "default_powerful",
            "ENHANCE_SCENE_DESCRIPTION": "default_powerful"
        },
        "default_llm_fallback": "google_gemini/gemini-2.5-flash-preview-04-17",
        "safety_fallback_model_id": "x_grok/grok-3-mini",
        "tasks_eligible_for_safety_fallback": [
            "change_perspective",
            "simplify_text",
            "change_tone_formal",
            "change_tone_informal",
            "change_tone_humorous",
            "enhance_scene_description"
        ],
        "tokenizer_options": {
            "local_model_token_estimation_factors": {
                "lm_studio_local/qwen2-7b-instruct-gguf": { "chars_per_token": 2.8 }
            },
            "default_chars_per_token_general": 2.0,
            "default_chars_per_token_chinese": 1.7,
            "lm_studio_prefer_api_token_count": false,
            "lm_studio_tokenize_include_model_param": true,
            "default_estimation_factors_by_provider": {
                "openai": 2.5,
                "google_gemini": 1.8,
                "anthropic_claude": 2.2,
                "deepseek": 2.0,
                "x_grok": 2.5,
                "lm_studio_local": 2.8,
                "local_embedding": 2.0
            }
        },
        "gemini_safety_settings": {
            "HARM_CATEGORY_HARASSMENT": "BLOCK_NONE",
            "HARM_CATEGORY_HATE_SPEECH": "BLOCK_NONE",
            "HARM_CATEGORY_SEXUALLY_EXPLICIT": "BLOCK_NONE",
            "HARM_CATEGORY_DANGEROUS_CONTENT": "BLOCK_NONE"
        },
        "global_system_prompt_prefix": "你是一个乐于助人的AI助手。",
        "rag_default_top_n_context": 5,
        "rag_default_top_n_context_fallback": 3
    },
    "vector_store_settings": {
        "persist_directory": "chroma_db_store_main",
        "embedding_model_name": "lm_studio_local/bge-large-zh-v1.5-embedding",
        "collection_name": "novel_content_prod_v1",
        "faiss_persist_directory": "faiss_data/novel_indexes",
        "text_chunk_size": 700,
        "text_chunk_overlap": 100
    },
    "local_nlp_settings": {
        "spacy_model_name": "zh_core_web_sm"
    },
    "file_storage_settings": {
        "upload_directory": "user_uploads"
    },
    "application_settings": {
        "log_level": "INFO",
        "allow_config_writes_via_api": true
    },
    "planning_settings": {
        "use_semantic_recommendation": true,
        "semantic_score_weight": 1.5,
        "max_recommendations": 5,
        "plot_suggestion_context_max_tokens": 3000,
        "plot_suggestion_max_tokens": 4000
    },
    "analysis_chunk_settings": {
        "chunk_size": 1500, 
        "chunk_overlap": 150,  
        "default_tokenizer_model_for_chunking": "grok-3" 
    },
    "cost_estimation_tiers": {
        "low_max_tokens": 8000,
        "medium_max_tokens": 60000,
        "token_cost_per_model": {
            "google_gemini/gemini-2.5-flash-preview-04-17": { "input_per_million": 0.07, "output_per_million": 0.21 },
            "google_gemini/gemini-2.5-pro-preview-05-06": { "input_per_million": 1.75, "output_per_million": 3.50 },
            "openai/gpt-3.5-turbo": { "input_per_million": 0.50, "output_per_million": 1.50 },
            "openai/gpt-4-turbo": { "input_per_million": 10.00, "output_per_million": 30.00 },
            "openai/gpt-4o": { "input_per_million": 5.00, "output_per_million": 15.00 },
            "anthropic_claude/claude-3-opus-20240229": { "input_per_million": 15.00, "output_per_million": 75.00 },
            "anthropic_claude/claude-3.5-sonnet-20240620": { "input_per_million": 3.00, "output_per_million": 15.00 },
            "anthropic_claude/claude-3-haiku-20240307": { "input_per_million": 0.25, "output_per_million": 1.25 },
            "deepseek/deepseek-chat": { "input_per_million": 0.14, "output_per_million": 0.28 },
            "x_grok/grok-3-mini": { "input_per_million": 0.25, "output_per_million": 0.50 },
            "x_grok/grok-3": { "input_per_million": 1.00, "output_per_million": 2.00 }
        },
        "avg_tokens_per_rag_chunk": {
            "default": 250,
            "lm_studio_local/bge-large-zh-v1.5-embedding": 200
        }
    },
    "sentiment_thresholds": {
        "positive_min_score": 0.65,
        "negative_max_score": 0.35
    }
}